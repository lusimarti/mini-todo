<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mini ToDo App</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Language Switcher -->
  <div style="text-align: right; padding: 10px;">
    <select onchange="changeLanguage(this.value)">
      <option value="en">English</option>
      <option value="fr">Français</option>
      <option value="de">Deutsch</option>
      <option value="ru">Русский</option>
    </select>
  </div>

  <div id="todoApp">
    <h2 id="appTitle">Mini ToDo App</h2>
    <div class="input-container">
      <input type="text" id="taskInput" placeholder="New task">
      <button onclick="addTask()" id="addButton">Add Task</button>
    </div>
    <ul id="taskList"></ul>
  </div>

  <script>
    // Multi-language translations for Todo App
    const translations = {
      en: {
        appTitle: "Mini ToDo App",
        taskPlaceholder: "New task",
        addButton: "Add Task",
        editButton: "Edit",      // ADD THIS LINE
        deleteButton: "Delete",
        noTasks: "No tasks yet. Add your first task!"
      },
      fr: {
        appTitle: "Mini Application ToDo",
        taskPlaceholder: "Nouvelle tâche",
        addButton: "Ajouter Tâche",
        editButton: "Modifier",  // ADD THIS LINE
        deleteButton: "Supprimer",
        noTasks: "Aucune tâche pour le moment. Ajoutez votre première tâche!"
      },
      de: {
        appTitle: "Mini ToDo App",
        taskPlaceholder: "Neue Aufgabe",
        addButton: "Aufgabe Hinzufügen",
        editButton: "Bearbeiten", // ADD THIS LINE
        deleteButton: "Löschen",
        noTasks: "Noch keine Aufgaben. Fügen Sie Ihre erste Aufgabe hinzu!"
      },
      ru: {
        appTitle: "Мини ToDo Приложение",
        taskPlaceholder: "Новая задача",
        addButton: "Добавить Задачу",
        editButton: "Редактировать", // ADD THIS LINE
        deleteButton: "Удалить",
        noTasks: "Пока нет задач. Добавьте свою первую задачу!"
      }
    };

    // Function to change language
    function changeLanguage(lang) {
      document.getElementById('appTitle').textContent = translations[lang].appTitle;
      document.getElementById('taskInput').placeholder = translations[lang].taskPlaceholder;
      document.getElementById('addButton').textContent = translations[lang].addButton;
      
      // Update existing task buttons
      document.querySelectorAll('.edit-btn').forEach(btn => {
        btn.textContent = translations[lang].editButton;
      });
      document.querySelectorAll('.delete-btn').forEach(btn => {
        btn.textContent = translations[lang].deleteButton;
      });
      
      // Update "no tasks" message if shown
      const taskList = document.getElementById('taskList');
      if (taskList.innerHTML.includes('No tasks yet') || 
          taskList.innerHTML.includes('Aucune tâche') ||
          taskList.innerHTML.includes('Noch keine Aufgaben') ||
          taskList.innerHTML.includes('Пока нет задач')) {
        taskList.innerHTML = `<li>${translations[lang].noTasks}</li>`;
      }
    }

    let tasks = [];

    function addTask() {
      const taskInput = document.getElementById('taskInput');
      const taskText = taskInput.value.trim();
      
      if (taskText === '') return;
      
      tasks.push(taskText);
      taskInput.value = '';
      renderTasks();
    }

    // ADD THIS NEW FUNCTION
    function editTask(index) {
      const newTaskText = prompt('Edit your task:', tasks[index]);
      if (newTaskText !== null && newTaskText.trim() !== '') {
        tasks[index] = newTaskText.trim();
        renderTasks();
      }
    }

    function deleteTask(index) {
      tasks.splice(index, 1);
      renderTasks();
    }

    function renderTasks() {
      const taskList = document.getElementById('taskList');
      const currentLang = document.querySelector('select').value;
      
      if (tasks.length === 0) {
        taskList.innerHTML = `<li>${translations[currentLang].noTasks}</li>`;
        return;
      }
      
      taskList.innerHTML = '';
      tasks.forEach((task, index) => {
        const li = document.createElement('li');
        li.innerHTML = `
          <span>${task}</span>
          <button class="edit-btn" onclick="editTask(${index})">${translations[currentLang].editButton}</button>
          <button class="delete-btn" onclick="deleteTask(${index})">${translations[currentLang].deleteButton}</button>
        `;
        taskList.appendChild(li);
      });
    }

    // Initialize
    renderTasks();
  </script>
</body>
</html>